# 本文档用来介绍项目中各个模块的消息流动和套接字端口

目前我们只测试最简单的消息流通性:

主要分为两种模式:

request -- reply : 请求 , 应答

publish -- subscribe : 推送, 订阅


所有测试项目已完成,在目录下的message-commun-example目录中可以找到测试

## 实时数据中心

目前该模块对外数据推送的功能,其他模块用订阅套接字进行订阅:

对外推送端口 : 5520

保留5500 ~ 5518 : 这些端口用来作为各个行情源的推送端口

保留5519端口:作为之后可能提供查询功能

目前完成:

5501 : 作为ctp的期货数据推送端口



## 历史中心模块

目前暂定该模块只提供查询功能,其他模块使用请求套接字进行请求:


对外应答端口 : 5529

保留端口 : 5521 ~ 5528 : 这些端口作为任务分发或者其他任务

保留端口 : 5530 : 端口日后可能作为该模块的推送端口


## 交易中心模块

该模块提供请求功能,例如查询可用资金,查询持仓,下单交易

该模块提供推送功能,例如成交回报


对外应答端口 : 5549

对外推送端口 : 5550

保留端口 : 5531 ~ 5548 : 这些端口保留为该模块使用

目前实现:

5531 : 作为ctp的对外应答端口
5541 : 作为ctp的对外推动端口


## 策略中心模块

该模块提供应答功能,例如查询目前启动的策略,策略运行状况

该模块提供推送功能,例如向管理中心推送消息(暂定)

对外应答端口 : 5569

对外推送端口 : 5570

保留端口 : 5551 ~ 5568 : 这些端口保留为该模块使用


## 策略回测模块

该模块提供请求功能,例如 策略回测

该模块提供推送功能,  暂定(可以不实现)

对外应答端口 : 5579

对外推送端口 : 5580

保留端口: 5571 ~ 5578 : 这些端口保留为该模块使用


## 管理中心端口

该模块提供请求功能, 例如查询整体运行状况,各个模块状态等

该模块提供推送功能, 例如之后实现了web端,可以在web端进行观测


对外应答端口 : 5589

对外推送端口 : 5590

保留端口 : 5581 ~ 5588 : 这些端口保留为该模块使用
